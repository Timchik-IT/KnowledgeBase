### Шаг 1: Подготовка виртуальных машин

1. **Убедитесь, что у вас есть две виртуальные машины с Linux Mint.**
    
    - Одна машина будет сервером (назовем её `server`).
        
    - Вторая машина будет клиентом (назовем её `client`).
    
2. **Убедитесь, что обе машины могут общаться друг с другом по сети.**
    
    - Проверьте, что они находятся в одной сети (например, через `ping`).
	
### Шаг 2: Настройка NFS-сервера

1. **Установите NFS-сервер на машину `server`.**  
``` bash 
sudo apt update
sudo apt install nfs-kernel-server
```

2. **Создайте директорию, которую будем экспортировать.**  
Например, создадим директорию `/var/nfs/share`:
``` bash
sudo mkdir -p /var/nfs/share
sudo chown nobody:nogroup /var/nfs/share  # Изменяем владельца для доступа
```

3. **Настройте экспорт директории.**  
Откройте файл `/etc/exports` для редактирования:
``` bash
sudo nano /etc/exports
```
Добавьте строку для экспорта директории:
``` bash
/var/nfs/share client_ip(rw,sync,no_subtree_check)
```
Замените `client_ip` на IP-адрес клиентской машины. Если хотите разрешить доступ всем машинам в сети, можно использовать `*` вместо IP.

4. **Перезапустите NFS-сервер.**
``` bash
sudo systemctl restart nfs-kernel-server
```

5. **Проверьте, что экспорт работает.**  
Выполните команду:
``` bash
sudo exportfs -v
```
Вы должны увидеть экспортированную директорию.

### Шаг 3: Настройка NFS-клиента

1. **Установите NFS-клиент на машину `client`.**
``` bash
sudo apt update
sudo apt install nfs-common
```

2. **Создайте директорию для монтирования.**  
Например, создадим директорию `/mnt/nfs`:
``` bash
sudo mkdir -p /mnt/nfs
```

3. **Смонтируйте NFS-шару.**  
Выполните команду:
``` bash
sudo mount server_ip:/var/nfs/share /mnt/nfs
```
Замените `server_ip` на IP-адрес серверной машины.

4. **Проверьте, что монтирование прошло успешно.**  
Выполните команду:
``` bash
df -h
```
Вы должны увидеть смонтированную директорию.

### Шаг 4: Проверка работоспособности

1. **Создайте файл на сервере и проверьте его доступность на клиенте.**  
На сервере:
``` bash
sudo touch /var/nfs/share/testfile.txt
```

На клиенте:
``` bash
ls /mnt/nfs
```

Вы должны увидеть файл `testfile.txt`.

2. **Создайте файл на клиенте и проверьте его доступность на сервере.**  
На клиенте:
``` bash
sudo touch /mnt/nfs/clientfile.txt
```

На сервере:
``` bash
ls /var/nfs/share
```

Вы должны увидеть файл `clientfile.txt`.

### Шаг 5: Настройка автоматического монтирования при загрузке

1. **Добавьте запись в `/etc/fstab` на клиенте.**  
Откройте файл для редактирования:
``` bash
sudo nano /etc/fstab
```

Добавьте строку:
``` bash
server_ip:/var/nfs/share /mnt/nfs nfs defaults 0 0
```

Замените `server_ip` на IP-адрес серверной машины.

