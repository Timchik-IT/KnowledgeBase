## Основные команды и инструменты [[Консоль||работы через консоль]]

### Управление процессами
#### Отправка сигналов процессам
| Сигнал | Номер | Описание                           | Примечание                                        |
| ------ | ----- | ---------------------------------- | ------------------------------------------------- |
| HUP    | 1     | Перезапуск процесса                | Можно использовать для перезагрузки конфигурации. |
| INT    | 2     | Прерывание с клавиатуры            | Отправляется через Ctrl+C.                        |
| KILL   | 9     | Принудительное завершение процесса | Не может быть заблокирован.                       |
| TERM   | 15    | Завершение процесса                | Более мягкое завершение.                          |

#### Примеры использования:
##### Принудительное завершение процесса
``` bash
kill -9 <PID>
```

##### Завершение всех процессов с указанным именем
``` bash
killall <имя>
```      

##### Завершение всех процессов пользователя
``` bash
pkill -U <пользователь>
``` 

#### Отображение процессов
- `ps aux` — полный список процессов.
- `top` — динамическое отображение процессов.
- `htop` (если установлен) — удобная альтернатива top с расширенным интерфейсом.

---

### Мониторинг нагрузки
- `uptime` — показывает время работы системы и среднюю загрузку (1, 5 и 15 минут).
- `lscpu` — информация о процессорах (логические и физические ядра).
- `top`:
  - Shift + p — сортировка по использованию процессора.
  - Shift + m — сортировка по использованию памяти.
  - r — изменение приоритета процесса (renice).

---

### Настройка профилей производительности
#### Утилита tuned
- Установка и запуск:
``` bash
sudo apt-install tuned
systemctl enable --now tuned
```

- Список доступных профилей:
``` bash
tuned-adm list
```
  
- Активный профиль:
``` bash
tuned-adm active
```
  
- Изменение профиля:
``` bash
tuned-adm profile <имя_профиля>
```
  
  Примеры профилей:
  - _balanced_ — баланс между энергосбережением и производительностью.
  - _powersave_ — максимальное энергосбережение.
  - _throughput-performance_ — максимальная производительность для серверов.
  - _virtual-host_ — для виртуальных хостов.

---

### Управление приоритетами процессов
#### Nice и Renice
- Диапазон значений `nice`: от -20 (максимальный приоритет) до 19 (минимальный).

- Команды:
	`nice -n <уровень> <команда>`  Запуск команды с указанным приоритетом
    `renice -n <уровень> -p <PID>` Изменение приоритета процесса
  
- Примеры:
    `nice -n 10 sha1sum /dev/zero &`
    `renice -n 5 -p 1234`
  

---

## Заметки
- Используйте SIGTERM (15) перед SIGKILL (9) для корректного завершения процессов.
- Мониторьте использование ресурсов перед настройкой приоритетов или профилей.
- Для долгосрочной оптимизации используйте tuned и подходящие профили.