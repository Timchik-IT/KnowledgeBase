## Команды работы с доступом через [[Консоль||консоль]]:
### Права на файл или директорию 

#### Посмотреть права доступа у файла
``` shell
$ ls -l filename
```
#### Посмотреть права доступа у директории
``` shell
$ ls -ld dirname
```

Есть два метода настройки доступа к файлам:
- Символьный 
- Числовой 

Обе группы используют команду 
``` shell
$ chmod ... file|dir
```
### Символьный 
#### Who is 
- `u` - user 
- `g` - group
- `o` - other
- `a` - all 
#### What is 
- `+` - add
- `-` - remove
- `=` - set exactly
#### Which is 
- `r` - read 
- `w` - write
- `x` - execute
### Числовой
#### Значение цифр:
- 1 - Выполнение (execute, `x`)
- 2 - Запись (write, `w`)
- 4 - Чтение (read, `r`)
#### Комбинации для присвоение сразу нескольких прав:
- 0 - Никаких прав (`---`)
- 1 - Выполнение (`--x`)
- 2 - Запись (`-w-`)
- 3 - Запись и выполнение (`-wx`)
- 4 - Чтение (`r--`)
- 5 - Чтение и выполнение (`r-x`)
- 6 - Чтение и запись (`rw-`)
- 7 - Чтение, запись и выполнение (`rwx`)

### Изменение владельца файла или директории

#### Только root может изменять владельца.

#### Изменение владельца файла на указанного пользователя
``` shell
$ chown username filename 
```
#### Рекурсивно изменить владельца и группу для директории и её содержимого
``` shell
$ chown -R username dirname
```
#### Группа файла меняется на указанную, владелец не меняется
``` shell
$ chown :groupname file/dir
```
#### Изменить владельца и группу
``` shell 
$ chown username:groupname file/dir
```
#### Изменить группу файла
``` shell
$ chgrp groupname filename
```

#### Изменить маску по умолчанию можно только через файл ~/.bashrc 
``` shell
$ echo "umask ..." >> ~/.bashrc
```

Тогда при запуске будет выполняться команда устанавливающая маску. 

### Выполнение лабы.

Чтобы добавить группу пользователей 

``` shell 
$ sudo groupadd groupname
```

Чтобы создать пользователя:

-m - Создает домашнюю директорию.

 -s - Указывает оболочку. По умолчанию используется sh.

``` shell
$ sudo useradd username -m -s /bin/bash
```


Чтобы изменить основную группу пользователя:

``` cs 
$ sudo usermod username -g groupname
```

Чтобы изменить доступ файла:

``` shell
$ chmod ... file|dir
```

