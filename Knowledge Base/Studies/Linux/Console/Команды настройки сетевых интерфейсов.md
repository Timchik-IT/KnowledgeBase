##### Основные команды и инструменты [[Консоль||работы через консоль]]

### Основные задачи:
-  Проверка текущей сетевой конфигурации с помощью командных утилит.
- Управление сетевыми настройками и устройствами с помощью `nmcli`.
- Изменение сетевых настроек путем редактирования конфигурационных файлов.
- Настройка статического имени хоста и разрешения имен.

### Основные инструменты:
- `ip` — команда для работы с сетевыми интерфейсами, адресами и маршрутами.
- `ping` и `ping6` — проверка доступности хостов по IPv4 и IPv6.
- `tracepath` и `traceroute` — трассировка маршрута до удаленного хоста.
- `ss` — утилита для отображения статистики сокетов (замена `netstat`).
- `nmcli` — утилита для управления сетевыми настройками через NetworkManager.
- `hostnamectl` — управление статическим именем хоста.
- `getent` — проверка разрешения имен через `/etc/hosts` и DNS.

### NetworkManager
- Управляет сетевыми подключениями и сохраняет конфигурацию в файлах `/etc/sysconfig/network-scripts/ifcfg-*`.
- Подключение может быть активным только для одного устройства одновременно.
- `nmcli` используется для создания, изменения и управления сетевыми подключениями.
### Редактирование конфигурационных файлов
- Файлы конфигурации сети находятся в `/etc/sysconfig/network-scripts/ifcfg-*`.
- После редактирования файлов необходимо выполнить `nmcli con reload` для применения изменений.

### Настройка имени хоста
- Статическое имя хоста хранится в `/etc/hostname`.
- Команда `hostnamectl` используется для изменения имени хоста.

### Разрешение имен

- Файл `/etc/hosts` используется для локального разрешения имен.
- Файл `/etc/resolv.conf` управляет DNS-запросами.

### Список всех команд из файла:

#### **Команды для работы с сетевыми интерфейсами и адресами:**

- `ip link show` — отображает все сетевые интерфейсы.
	
- `ip addr show` — отображает IP-адреса для интерфейса.
    
- `ip -s link show` — отображает статистику по интерфейсу.
    
- `ip route` — отображает таблицу маршрутизации IPv4.
    
- `ip -6 route` — отображает таблицу маршрутизации IPv6.
    
- `ping <адрес>` — проверка доступности хоста по IPv4.
    
- `ping6 <адрес>` — проверка доступности хоста по IPv6.
    
- `tracepath <адрес>` — трассировка маршрута до хоста.
    
- `traceroute <адрес>` — трассировка маршрута с использованием UDP, ICMP или TCP.
       
- `ss -ta` — отображает TCP-сокеты.
    
- `ss -lt` — отображает слушающие TCP-сокеты.

#### **Команды для управления NetworkManager:**

- `nmcli dev status` — отображает статус всех сетевых устройств.
    
- `nmcli con show` — отображает все подключения.
    
- `nmcli con show --active` — отображает активные подключения.
    
- `nmcli con add` — добавляет новое сетевое подключение.
    
- `nmcli con mod` — изменяет параметры подключения.
    
- `nmcli con up` — активирует подключение.
    
- `nmcli dev disconnect` — отключает устройство.
    
- `nmcli con reload` — перезагружает конфигурацию подключений.
    
- `nmcli con del` — удаляет подключение.

#### **Команды для работы с именем хоста:**

- `hostname` — отображает или временно изменяет имя хоста.
    
- `hostnamectl set-hostname <имя>` — устанавливает статическое имя хоста.
    
- `hostnamectl status` — отображает статус имени хоста.

#### **Команды для работы с DNS и разрешением имен:**

- `getent hosts <имя>` — проверяет разрешение имени через `/etc/hosts`.
    
- `host <имя>` — проверяет разрешение имени через DNS.
    
- `cat /etc/resolv.conf` — отображает конфигурацию DNS.

#### **Команды для редактирования конфигурационных файлов:**

- `/etc/netplan/01-netcfg.yaml` — Конфигурационный файл ip адресов. 
	
- После редактирования `sudo netplan apply`.

#### **Команды для перезагрузки системы:**

- `systemctl reboot` — перезагружает систему.